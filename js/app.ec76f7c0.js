(function(){"use strict";var t={9987:function(t,e,a){var r=a(2856),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],i=a(1656),o={},c=(0,i.A)(o,s,n,!1,null,null,null),l=c.exports,u=a(1594),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("FiltersBlock",{on:{applyFilters:t.applyFilters,resetFilters:t.resetFilters}}),e("div",{staticClass:"empty-container"},[t.errorMessage?e("div",[e("p",[t._v(t._s(t.errorMessage))])]):e("div",{staticClass:"card-container"},t._l(t.displayedCharacters,(function(t,a){return e("div",{key:a},[e("CardItem",{attrs:{character:t}})],1)})),0)]),t.getPagesCount>t.currentPage&&t.displayedCharacters.length>0?e("infinite-loading",{ref:"infiniteLoading",on:{infinite:t.infiniteHandler}},[e("span",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("No more characters")])]):t._e()],1)},p=[],d=(a(4114),a(1910)),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("img",{staticClass:"card__img",attrs:{src:t.character.image,alt:t.character.name,loading:"lazy"}}),e("h3",{staticClass:"card__name"},[t._v(t._s(t.character.name))]),e("p",{staticClass:"card__status",class:{card__status_green:"Alive"===t.character.status,card__status_grey:"unknown"===t.character.status}},[t._v(" "+t._s(t.character.status)+" ")])])},g=[],m={name:"CardItem",props:{character:{type:Object,required:!0}}},y=m,v=(0,i.A)(y,f,g,!1,null,"48078ae7",null),_=v.exports,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filters-block"},[e("div",{staticClass:"filters-block__search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.localSearchByName,expression:"localSearchByName"}],staticClass:"filters-block__input",attrs:{type:"text",placeholder:"Search by name"},domProps:{value:t.localSearchByName},on:{input:function(e){e.target.composing||(t.localSearchByName=e.target.value)}}}),e("div",{staticClass:"filters-block__select-wrapper"},[e("label",{staticClass:"filters-block__label",attrs:{for:"status"}},[t._v("Filter by status:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.localSearchByStatus,expression:"localSearchByStatus"}],staticClass:"filters-block__select",attrs:{name:"status",id:"status"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.localSearchByStatus=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:""}},[t._v("All")]),e("option",{attrs:{value:"Alive"}},[t._v("Alive")]),e("option",{attrs:{value:"Dead"}},[t._v("Dead")]),e("option",{attrs:{value:"unknown"}},[t._v("Unknown")])])]),e("div",{staticClass:"filters-block__buttons"},[e("button",{staticClass:"filters-block__button",on:{click:t.apply}},[t._v("Apply")]),e("button",{staticClass:"filters-block__button",on:{click:t.reset}},[t._v("Reset")])])])])},b=[],S={name:"FiltersBlock",data(){return{localSearchByName:"",localSearchByStatus:""}},methods:{apply(){this.$emit("applyFilters",{name:this.localSearchByName,status:this.localSearchByStatus})},reset(){this.localSearchByName="",this.localSearchByStatus="",this.$emit("resetFilters")}}},B=S,k=(0,i.A)(B,C,b,!1,null,"4762ea6f",null),w=k.exports,A={name:"HomeView",components:{CardItem:_,FiltersBlock:w},data(){return{searchByName:"",searchByStatus:"",displayedCharacters:[],currentPage:1,pageSize:20}},methods:{...(0,d.i0)(["fetchCharacters"]),...(0,d.PY)(["resetCharacters","setCurrentPage","setErrorMessage"]),async applyFilters(t){this.searchByName=t.name,this.searchByStatus=t.status,this.resetCharacters(),this.currentPage=1,await this.fetchCharacters({page:this.currentPage,name:this.searchByName,status:this.searchByStatus}),this.getCharacters.length?(this.displayedCharacters=this.getCharacters,this.setErrorMessage(""),this.$refs.infiniteLoading&&this.$refs.infiniteLoading.stateChanger.reset()):(this.setErrorMessage("There is nothing here"),this.displayedCharacters=[])},async resetFilters(){this.searchByName="",this.searchByStatus="",await this.applyFilters({name:this.searchByName,status:this.searchByStatus})},async infiniteHandler(t){this.currentPage++,await this.fetchCharacters({page:this.currentPage,name:this.searchByName,status:this.searchByStatus}),this.getCharacters.length?(this.displayedCharacters.push(...this.getCharacters),t.loaded()):t.complete()}},computed:{...(0,d.L8)(["getCharacters","getPagesCount","getErrorMessage"]),errorMessage(){return this.getErrorMessage}},async mounted(){await this.fetchCharacters({page:this.currentPage,name:this.searchByName,status:this.searchByStatus}),this.displayedCharacters=this.getCharacters}},P=A,N=(0,i.A)(P,h,p,!1,null,"63defe1e",null),M=N.exports,F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"not-found"},[e("div",{staticClass:"not-found__wrapper"},[e("h1",{staticClass:"not-found__title"},[t._v("404 - Page Not Found")]),e("p",{staticClass:"not-found__message"},[t._v(" The page you are looking for does not exist. ")]),e("router-link",{staticClass:"not-found__link",attrs:{to:"/"}},[t._v("Go to Home")])],1)])},x=[],O={name:"NotFoundView"},E=O,j=(0,i.A)(E,F,x,!1,null,"58ed4865",null),T=j.exports;r.Ay.use(u.Ay);const L=[{path:"/",name:"home",component:M},{path:"*",component:T}],$=new u.Ay({mode:"history",base:"/",routes:L});var H=$,I=a(417);const z=I.A.create({baseURL:"https://rickandmortyapi.com/api/"});var D=z,R={state:{characters:[],pagesCount:0,errorMessage:""},getters:{getCharacters(t){return t.characters},getPagesCount(t){return t.pagesCount},getErrorMessage(t){return t.errorMessage}},mutations:{updateCharacters(t,e){t.characters=[...t.characters,...e]},resetCharacters(t){t.characters=[]},updatePagesCount(t,e){t.pagesCount=e},setErrorMessage(t,e){t.errorMessage=e}},actions:{async fetchCharacters({commit:t},{page:e=1,name:a,status:r}){const s={page:e};a&&(s.name=a),r&&(s.status=r);try{const e=await D.get("/character/",{params:s});t("updatePagesCount",e.data.info.pages),t("updateCharacters",e.data.results),t("setErrorMessage","")}catch(n){t("setErrorMessage","There is nothing here"),t("updateCharacters",[]),t("updatePagesCount",0)}}}};r.Ay.use(d.Ay);var U=new d.Ay.Store({modules:{characters:R}}),V=a(3419),q=a.n(V);r.Ay.config.productionTip=!1,r.Ay.component("InfiniteLoading",q()),new r.Ay({router:H,store:U,render:t=>t(l)}).$mount("#app")}},e={};function a(r){var s=e[r];if(void 0!==s)return s.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,r,s,n){if(!r){var i=1/0;for(u=0;u<t.length;u++){r=t[u][0],s=t[u][1],n=t[u][2];for(var o=!0,c=0;c<r.length;c++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](r[c])}))?r.splice(c--,1):(o=!1,n<i&&(i=n));if(o){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[r,s,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,n,i=r[0],o=r[1],c=r[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(c)var u=c(a)}for(e&&e(r);l<i.length;l++)n=i[l],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},r=self["webpackChunkricky"]=self["webpackChunkricky"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(9987)}));r=a.O(r)})();
//# sourceMappingURL=app.ec76f7c0.js.map